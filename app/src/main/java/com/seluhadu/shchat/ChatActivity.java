package com.seluhadu.shchat;import android.content.Intent;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.support.v4.view.ViewPager;import android.support.v7.app.AppCompatActivity;import android.util.Log;import com.seluhadu.shchat.adapters.ChatViewPagerAdapter;import com.seluhadu.shchat.fragments.ChatFragment;import com.seluhadu.shchat.fragments.ChatUserProfileFragment;import com.seluhadu.shchat.models.User;import com.seluhadu.shchat.utils.FireBaseMethods;import java.util.List;import static android.support.constraint.Constraints.TAG;public class ChatActivity extends AppCompatActivity {    private ViewPager mViewPager;    @Override    protected void onCreate(@Nullable Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_chat);        mViewPager = findViewById(R.id.chat_view_pager);        setUpViewPager();    }    private void setUpViewPager() {        Intent intent = getIntent();        if (intent != null) {            String sender = intent.getStringExtra("senderId");            User  user = intent.getParcelableExtra("user");            ChatViewPagerAdapter adapter = new ChatViewPagerAdapter(getSupportFragmentManager());            adapter.addFragment(ChatFragment.newInstance(user));            adapter.addFragment(ChatUserProfileFragment.newInstance(sender));            mViewPager.setAdapter(adapter);            mViewPager.setCurrentItem(0);        }    }    @Override    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {        super.onActivityResult(requestCode, resultCode, data);        List<Fragment> fragments = getSupportFragmentManager().getFragments();        for (Fragment fragment : fragments) {            fragment.onActivityResult(requestCode, resultCode, data);        }    }}